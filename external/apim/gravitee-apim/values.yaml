apim3:
  jdbc:
    url: kubernetes://apim/secrets/gravitee-apim-secret/jdbc-conn
    driver: https://github.com/microsoft/mssql-jdbc/releases/download/v12.2.0/mssql-jdbc-12.2.0.jre11.jar
  ui:
    ingress:
      enabled: false  # Migrated to Gateway API HTTPRoute
      hosts:
        - apim.mattgerega.com
  portal:
    ingress:
      enabled: false  # Migrated to Gateway API HTTPRoute
      hosts:
        - developer.mattgerega.com
  api:
    ingress:
      management:
        enabled: false  # Migrated to Gateway API HTTPRoute
        hosts:
          - apim.mattgerega.com
      portal:
        enabled: false  # Migrated to Gateway API HTTPRoute
        hosts:
          - apim.mattgerega.com
  gateway:
    ingress:
      enabled: false  # Migrated to Gateway API HTTPRoute
      path: /
      hosts:
        - apig.mattgerega.com
    ratelimit:
      redis:
        host: kubernetes://apim/secrets/gravitee-apim-secret/redis-host
        port: 6379
        password: kubernetes://apim/secrets/gravitee-apim-secret/redis-password
  management:
    type: jdbc
  ratelimit:
    type: redis

  es:
    enabled: true
    security:
      enabled: true
      username: kubernetes://apim/secrets/elastic-secret/ELASTIC_USERNAME
      password: kubernetes://apim/secrets/elastic-secret/ELASTIC_PASSWORD
    endpoints:
      - http://apim-es-master-headless:9200
  mongo:
    rsEnabled: false
